// Code generated by go run ./gen.go; DO NOT EDIT.

// Package input contains functionality for handling the CLi input
package input

import (
	"strconv"
)

// ActionInput represents schema of action.yaml for generating input for arguments
type ActionInput struct {
	{{ range .Items }}
	{{ .FieldName }} {{ .Type }}{{ end }}
}

// NewActionInput creates a new ActionInput instance
func NewActionInput(args []string) ActionInput {
	argCount := len(args)
	{{ range .Items }}
	var {{ .VarName }} = {{ .DefaultValue }}
	if argCount > {{ .Index }} {
		{{ if eq .Type "string" }}{{ .VarName }} = args[{{ .Index }}] {{ end }}
		{{ if eq .Type "bool" }}tmp,bErr := strconv.ParseBool(args[{{ .Index }}])
		if bErr != nil {
			{{ .VarName }} = tmp 
		}{{ end }}
	} {{ end }}

	return ActionInput{
		{{ range .Items }}
		{{ .FieldName }}: {{ .VarName }},{{ end }}
	}
}
